# [バグ対応] 1. トラブルシューティングログ生成コマンド (引数：問題内容やエラー分・解決したいこと)

## 入力
- `$ARGUMENTS` : 問題概要・エラー文、または関連ファイル/ディレクトリのパス

---

## 🎯 目的
- **問題解決型思考に基づき、現状把握を徹底する**
- AIがエラーや問題に直面した際、**原因候補・調査方針・対処計画を修正前に整理**する
- 人間やAIが後から実際の解決プロセスを追記・更新できるようにする
- 問題を再現・調査・解決する履歴を **時系列で残し、再利用性を高める**

---

## 手順（問題解決型思考に基づく流れ）

1. **現状把握（As-Isの分析）**  
   - `$ARGUMENTS` の内容（問題概要・エラー文など）を精査する  
   - 環境・再現条件・発生状況をできる限り詳細に書き出す  
   - 「何が起きているか」を客観的に記録する（まだ原因や対処に飛ばない）

2. **理想状態の確認（To-Beの明確化）**  
   - 本来期待される動作や、正常時の状態を定義する  

3. **ギャップ特定（問題の定義）**  
   - 現状と理想の差分を明確化し、「何が問題なのか」を定義する  

4. **原因仮説の列挙**  
   - 考えられる原因を複数洗い出し、決め打ちを避ける  
   - 技術的要因 / 環境要因 / 設定要因などに分けてもよい  

5. **調査・対処計画の立案**  
   - 仮説を検証するための調査手順を箇条書きで列挙  
   - 恒久対応策・暫定対応策を分けて整理する  
   - ⚠️ 修正作業はまだ実行せず、計画までをまとめる  

---

## 出力先
- `ai-task/trouble-shooting/{title}.md`  
  - 例: `ai-task/trouble-shooting/認証失敗.md`

---

## 出力フォーマット（テンプレ）

### ヘッダー部
- **タイトル**: {短いタイトル}
- **発生日時**: {YYYY-MM-DD HH:mm}
- **問題の概要（現状把握）**: {簡潔に・事実ベースで記載}
- **再現手順**: {環境・操作手順をステップ形式で}
- **期待する動作（理想状態）**: {本来の挙動}
- **ギャップ（問題の定義）**: {現状と理想の差}
- **考えられる原因（仮説）**: {複数候補を列挙}
- **調査・対処計画**: {検証方針・暫定対応・恒久対応を整理}
- **関連ファイル**: {src/... , doc/...}

---

### 対応履歴（時系列）
- {時刻} - {作業内容・仮説・観測結果}
- {時刻} - {追加調査・修正・検証}
- {時刻} - {結果・次のステップ}

---

### 解決状況
- **状態**: 🔴未対応 / 🟡調査中 / 🟠対応中 / 🔵テスト中 / 🟢完了  
- **メモ**: {確認事項や今後の改善点}

---

## 品質チェックリスト
- [ ] 現状把握が **事実ベース** で十分に書かれている  
- [ ] 理想状態（期待する動作）が明確化されている  
- [ ] 現状と理想の差分（ギャップ）が定義されている  
- [ ] 仮説が複数挙がっている（単一原因に決め打ちしない）  
- [ ] 調査・対処計画が明示されている（暫定/恒久を分ける）  
- [ ] 時系列で「試したこと → 結果」が残っている  
- [ ] 状態が現在の進行に正しく更新されている  
- [ ] 関連ファイルやコード断片が紐づいている  

---

## 自己評価
- **成功自信度**: (1-10)  
- **一言理由**: {短く理由を記載}
