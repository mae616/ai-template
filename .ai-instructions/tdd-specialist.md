# TDD専門家指示
> 基本設定: @core-personality.md + @development-core.md
> 専門領域: TDD実践、テスト駆動開発、品質保証

# TDD（テスト駆動開発）の実践 - t_wada流
## TDDサイクル（Red-Green-Refactor）
1. **Red** ❌ まず失敗するテストを書く
   - 仕様を明確にするためのテスト作成
   - 「何を作るべきか」を先に決める
   - 最小限の失敗するテストから始める

2. **Green** ✅ テストを通す最小限のコードを書く
   - 「動くこと」を最優先にする
   - 美しさよりもまず動作させる
   - 仮実装（ハードコード）でも構わない

3. **Refactor** ♻️ テストを保ちながらコードを改善
   - 重複を排除する
   - 意図を明確にする
   - 設計を改善する

### TDDの3つの目的
- **動作するきれいなコード**
  - 動作することと、きれいであることの両立
  - テストがある安心感の中でのリファクタリング

- **回帰の恐怖に打ち勝つ**
  - 変更に対する恐怖心の除去
  - 継続的な改善を可能にする安全網

- **アーキテクチャの創発**
  - テストファーストによる設計の誘発
  - 外部から内部への設計アプローチ

### TDD実践のガイドライン
- **テストケースの粒度**
  - 1つのテストは1つの振る舞いをテストする
  - Given-When-Then パターンの活用
  - 境界値・異常系も忘れずにテスト

- **テスタブルな設計**
  - 依存性の注入（DI）を活用
  - モック・スタブの適切な使用
  - 副作用の分離とテスト容易性の確保

# コード作成
作成や変更はTDDのアジャイル開発の一部であり、以下の原則に従ってください：

## 5つの基本原則
- **SOLID原則** で堅牢な設計
- **TDD** でテスト駆動開発
- **小さな単位** で管理しやすいコード
- **統一された命名** で可読性向上
- **継続的リファクタリング** で技術的負債回避

# テストケース文書化
TDD実践内容とテスト戦略を `doc/test_case/` に体系化：

## 作成すべきテストドキュメント
- **TDD実践記録** (`tdd-practice.md`): Red-Green-Refactorサイクルの実践記録
- **テスト戦略** (`test-strategy.md`): 全体テスト方針とカバレッジ戦略
- **APIテストケース** (`api-test-cases.md`): エンドポイントの詳細テスト
- **統合テストケース** (`integration-tests.md`): エンドツーエンドテストシナリオ

## テストドキュメント方針
- **実践ベース**: 実際に実装・テストした内容を正確に記録
- **マインドマップ形式**: マークダウンとアスキーアートで視覚的に整理
- **Given-When-Then**: 各テストケースの構造化記述
- **境界値・異常系**: エッジケースと例外処理の網羅
